import{G as P,N as v,j as e,a7 as n,aG as R,D as h,V as u,aI as x,ae as S,aJ as T,af as w}from"./mui-core-bcLv4slq.js";import{a as D,r as p}from"./react-vendor-COZ0iPm4.js";import{u as _,D as k,a as z,P as G,f as L,S as O}from"./dataService-DWYXEeOQ.js";import{R as o,E as W}from"./index-Drasy4K0.js";import"./mui-icons-D3Ye376C.js";import"./date-utils-BirqDsiu.js";import"./mui-pickers-zOORXj_E.js";import"./utils-DiIHWmkM.js";function I({filters:r,onSetFilterOptions:c}){const{data:i,loading:y,error:d,refetch:b}=_(L,"Failed to load egg pool data. Please try again later."),j=P(),C=v(j.breakpoints.down("sm"));p.useEffect(()=>{if(i){const a=Object.keys(i),t=Object.values(o).map(s=>s.label);c({eggTiers:a,rarityTiers:t})}},[i,c]);const g=p.useMemo(()=>{if(!i)return null;const a={};return Object.entries(i).forEach(([t,s])=>{if(r.selectedEggTiers.length>0&&!r.selectedEggTiers.includes(t))return;const m=s.filter(l=>{if(r.pokemonSearch&&!l.name.toLowerCase().includes(r.pokemonSearch.toLowerCase())||r.shinyOnly&&!l.shiny_available)return!1;if(r.selectedRarityTiers.length>0){const f=o[l.rarity_tier]?.label;if(!f||!r.selectedRarityTiers.includes(f))return!1}return!0});m.length>0&&(a[t]=m)}),a},[i,r]);if(y)return e.jsx(k,{itemCount:8,gridSize:{xs:6,sm:4,md:3,lg:2}});if(d||!i||!g)return e.jsx(z,{title:"Failed to Load Egg Pool Data",message:d||void 0,onRetry:b});const E=a=>e.jsxs(S,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:t=>t.shadows[8]}},children:[e.jsx(T,{component:"img",image:a.asset_url,alt:a.name,sx:{height:120,objectFit:"contain",backgroundColor:"background.default",p:2}}),e.jsxs(w,{sx:{flexGrow:1,pt:1},children:[e.jsx(h,{variant:"subtitle1",fontWeight:600,textAlign:"center",gutterBottom:!0,sx:{fontSize:C?"0.875rem":"1rem"},children:a.name}),e.jsxs(n,{sx:{display:"flex",gap:.5,justifyContent:"center",flexWrap:"wrap"},children:[a.shiny_available&&e.jsx(O,{}),e.jsx(u,{label:o[a.rarity_tier]?.label||"Unknown",size:"small",sx:{height:20,fontSize:"0.7rem",backgroundColor:o[a.rarity_tier]?.color||"#999",color:"#fff",fontWeight:600}})]})]})]});return e.jsxs(n,{sx:{py:4},children:[e.jsx(G,{title:"Egg Pool",description:"Current Pokémon available from different egg types"}),e.jsx(R,{severity:"info",sx:{mb:3},children:"Egg contents are updated regularly based on current in-game events. Rarity tiers indicate the relative hatch chance."}),Object.entries(g).map(([a,t])=>!t||t.length===0?null:e.jsxs(n,{sx:{mb:4},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(h,{variant:"h5",fontWeight:600,children:a}),e.jsx(u,{label:`${t.length} Pokémon`,size:"small",sx:{backgroundColor:s=>W[a]||s.palette.primary.main,color:"#fff",fontWeight:600}})]}),e.jsx(x,{container:!0,spacing:2,children:t.map(s=>e.jsx(x,{size:{xs:6,sm:4,md:3,lg:2},children:E(s)},s.name))})]},a))]})}const Q=D.memo(I);export{Q as default};
