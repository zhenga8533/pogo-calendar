import{G as I,N as z,j as e,a7 as n,a6 as o,ay as W,az as p,aG as D,D as d,V as g,aI as w,ae as v,aJ as G,af as L}from"./mui-core-BM6OZ3Ae.js";import{V as M,r as k}from"./mui-icons-DRtSjZgt.js";import{a as O,r as h}from"./react-vendor-COZ0iPm4.js";import{u as B,D as V,a as A,P as F,f as H,S as C}from"./dataService-D6R8r1Ib.js";import{R as l,E as U}from"./index-BysE4DFC.js";import"./date-utils-BirqDsiu.js";import"./mui-pickers-BzuYHJMN.js";import"./utils-DiIHWmkM.js";function Y({filters:s,onSetFilterOptions:x}){const{data:i,loading:E,error:m,refetch:P}=B(H,"Failed to load egg pool data. Please try again later."),S=I(),u=z(S.breakpoints.down("sm")),[f,_]=h.useState("grid");h.useEffect(()=>{if(i){const t=Object.keys(i),a=Object.values(l).map(r=>r.label);x({eggTiers:t,rarityTiers:a})}},[i,x]);const j=h.useMemo(()=>{if(!i)return null;const t={};return Object.entries(i).forEach(([a,r])=>{if(s.selectedEggTiers.length>0&&!s.selectedEggTiers.includes(a))return;const b=r.filter(c=>{if(s.pokemonSearch&&!c.name.toLowerCase().includes(s.pokemonSearch.toLowerCase())||s.shinyOnly&&!c.shiny_available)return!1;if(s.selectedRarityTiers.length>0){const y=l[c.rarity_tier]?.label;if(!y||!s.selectedRarityTiers.includes(y))return!1}return!0});b.length>0&&(t[a]=b)}),t},[i,s]);if(E)return e.jsx(V,{itemCount:8,gridSize:{xs:6,sm:4,md:3,lg:2}});if(m||!i||!j)return e.jsx(A,{title:"Failed to Load Egg Pool Data",message:m||void 0,onRetry:P});const R=t=>e.jsxs(v,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:a=>a.shadows[8]}},children:[e.jsx(G,{component:"img",image:t.asset_url,alt:t.name,sx:{height:120,objectFit:"contain",backgroundColor:"background.default",p:2}}),e.jsxs(L,{sx:{flexGrow:1,pt:1},children:[e.jsx(d,{variant:"subtitle1",fontWeight:600,textAlign:"center",gutterBottom:!0,sx:{fontSize:u?"0.875rem":"1rem"},children:t.name}),e.jsxs(n,{sx:{display:"flex",gap:.5,justifyContent:"center",flexWrap:"wrap"},children:[t.shiny_available&&e.jsx(C,{}),e.jsx(g,{label:l[t.rarity_tier]?.label||"Unknown",size:"small",sx:{height:20,fontSize:"0.7rem",backgroundColor:l[t.rarity_tier]?.color||"#999",color:"#fff",fontWeight:600}})]})]})]}),T=t=>e.jsxs(v,{sx:{display:"flex",alignItems:"center",p:1.5,gap:2,width:"100%"},children:[e.jsx(n,{sx:{width:50,height:50,bgcolor:"background.default",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(n,{component:"img",src:t.asset_url,alt:t.name,sx:{maxWidth:"80%",maxHeight:"80%"}})}),e.jsx(n,{sx:{flexGrow:1,minWidth:0},children:e.jsxs(o,{direction:"row",alignItems:"center",spacing:1,mb:.5,children:[e.jsx(d,{variant:"subtitle2",fontWeight:600,children:t.name}),t.shiny_available&&e.jsx(C,{})]})}),e.jsx(g,{label:l[t.rarity_tier]?.label||"Unknown",size:"small",sx:{height:20,fontSize:"0.7rem",backgroundColor:l[t.rarity_tier]?.color||"#999",color:"#fff",fontWeight:600,minWidth:80}})]});return e.jsxs(n,{sx:{py:4,pb:u?8:4},children:[e.jsxs(o,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",mb:3,children:[e.jsx(F,{title:"Egg Pool",description:"Current Pokémon available from different egg types"}),e.jsxs(W,{value:f,exclusive:!0,onChange:(t,a)=>a&&_(a),size:"small","aria-label":"view mode",children:[e.jsx(p,{value:"grid","aria-label":"grid view",children:e.jsx(M,{})}),e.jsx(p,{value:"list","aria-label":"list view",children:e.jsx(k,{})})]})]}),e.jsx(D,{severity:"info",sx:{mb:3},children:"Egg contents are updated regularly based on current in-game events. Rarity tiers indicate the relative hatch chance."}),Object.entries(j).map(([t,a])=>!a||a.length===0?null:e.jsxs(n,{sx:{mb:4},children:[e.jsxs(o,{direction:"row",spacing:2,alignItems:"center",mb:2,children:[e.jsx(d,{variant:"h5",fontWeight:600,children:t}),e.jsx(g,{label:`${a.length} Pokémon`,size:"small",sx:{backgroundColor:r=>U[t]||r.palette.primary.main,color:"#fff",fontWeight:600}})]}),f==="grid"?e.jsx(w,{container:!0,spacing:2,children:a.map(r=>e.jsx(w,{size:{xs:6,sm:4,md:3,lg:2},children:R(r)},r.name))}):e.jsx(o,{spacing:1,children:a.map(r=>T(r))})]},t))]})}const ee=O.memo(Y);export{ee as default};
