import{G as L,N as T,j as e,a7 as i,a6 as c,ay as I,az as y,aG as E,D as s,V as x,aI as b,ae as C,aJ as O,af as z}from"./mui-core-BM6OZ3Ae.js";import{V as D,r as M}from"./mui-icons-DRtSjZgt.js";import{a as G,r as h}from"./react-vendor-COZ0iPm4.js";import{u as A,D as V,a as N,P as F,b as H,S as v}from"./dataService-D6R8r1Ib.js";import{b as Y,P as w}from"./index-BysE4DFC.js";import"./date-utils-BirqDsiu.js";import"./mui-pickers-BzuYHJMN.js";import"./utils-DiIHWmkM.js";function $({filters:r,onSetFilterOptions:g}){const{data:o,loading:k,error:m,refetch:R}=A(H,"Failed to load raid boss data. Please try again later."),S=L(),p=T(S.breakpoints.down("sm")),[f,_]=h.useState("grid");h.useEffect(()=>{if(o){const a=Object.keys(o),t=new Set;Object.values(o).forEach(d=>{d.forEach(l=>{l.types.forEach(j=>t.add(j))})});const n=Array.from(t).sort();g({raidTiers:a,types:n})}},[o,g]);const u=h.useMemo(()=>{if(!o)return null;const a={};return Object.entries(o).forEach(([t,n])=>{if(r.selectedRaidTiers.length>0&&!r.selectedRaidTiers.includes(t))return;const d=n.filter(l=>!(r.pokemonSearch&&!l.name.toLowerCase().includes(r.pokemonSearch.toLowerCase())||r.shinyOnly&&!l.shiny_available||r.selectedTypes.length>0&&!l.types.some(B=>r.selectedTypes.includes(B))||l.cp_range.max<r.minCP||l.cp_range.min>r.maxCP));d.length>0&&(a[t]=d)}),a},[o,r]);if(k)return e.jsx(V,{itemCount:8,gridSize:{xs:12,sm:6,md:4,lg:3}});if(m||!o||!u)return e.jsx(N,{title:"Failed to Load Raid Boss Data",message:m||void 0,onRetry:R});const W=a=>e.jsxs(C,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:t=>t.shadows[8]}},children:[e.jsx(O,{component:"img",image:a.asset_url,alt:a.name,sx:{height:140,objectFit:"contain",backgroundColor:"background.default",p:2}}),e.jsxs(z,{sx:{flexGrow:1},children:[e.jsx(s,{variant:"h6",fontWeight:600,textAlign:"center",gutterBottom:!0,sx:{fontSize:p?"1rem":"1.25rem"},children:a.name}),e.jsxs(c,{spacing:1,sx:{mb:2},children:[e.jsxs(i,{sx:{display:"flex",gap:.5,justifyContent:"center",flexWrap:"wrap"},children:[a.types.map(t=>e.jsx(x,{label:t,size:"small",sx:{backgroundColor:w[t]||"#999",color:"#fff",fontWeight:600,fontSize:"0.75rem"}},t)),a.shiny_available&&e.jsx(v,{})]}),e.jsxs(i,{sx:{backgroundColor:"background.default",borderRadius:1,p:1.5},children:[e.jsx(s,{variant:"caption",color:"text.secondary",display:"block",children:"Normal CP Range"}),e.jsxs(s,{variant:"body2",fontWeight:600,children:[a.cp_range.min.toLocaleString()," -"," ",a.cp_range.max.toLocaleString()]})]}),e.jsxs(i,{sx:{backgroundColor:"background.default",borderRadius:1,p:1.5},children:[e.jsx(s,{variant:"caption",color:"text.secondary",display:"block",children:"Weather Boosted CP"}),e.jsxs(s,{variant:"body2",fontWeight:600,children:[a.boosted_cp_range.min.toLocaleString()," -"," ",a.boosted_cp_range.max.toLocaleString()]})]})]})]})]}),P=a=>e.jsxs(C,{sx:{display:"flex",alignItems:"center",p:1.5,gap:2,width:"100%"},children:[e.jsx(i,{sx:{width:60,height:60,bgcolor:"background.default",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(i,{component:"img",src:a.asset_url,alt:a.name,sx:{maxWidth:"80%",maxHeight:"80%"}})}),e.jsxs(i,{sx:{flexGrow:1,minWidth:0},children:[e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,mb:.5,flexWrap:"wrap",children:[e.jsx(s,{variant:"subtitle1",fontWeight:600,children:a.name}),a.shiny_available&&e.jsx(v,{})]}),e.jsx(c,{direction:"row",spacing:.5,flexWrap:"wrap",gap:.5,children:a.types.map(t=>e.jsx(x,{label:t,size:"small",sx:{height:20,fontSize:"0.7rem",bgcolor:w[t],color:"#fff",fontWeight:600}},t))})]}),e.jsxs(i,{sx:{textAlign:"right",minWidth:100,display:{xs:"none",sm:"block"}},children:[e.jsx(s,{variant:"caption",color:"text.secondary",display:"block",children:"CP Range"}),e.jsx(s,{variant:"body2",fontWeight:600,children:a.cp_range.max.toLocaleString()})]})]});return e.jsxs(i,{sx:{py:4,pb:p?8:4},children:[e.jsxs(c,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",mb:3,children:[e.jsx(F,{title:"Raid Bosses",description:"Current raid bosses available in Pokémon GO"}),e.jsxs(I,{value:f,exclusive:!0,onChange:(a,t)=>t&&_(t),size:"small","aria-label":"view mode",children:[e.jsx(y,{value:"grid","aria-label":"grid view",children:e.jsx(D,{})}),e.jsx(y,{value:"list","aria-label":"list view",children:e.jsx(M,{})})]})]}),e.jsx(E,{severity:"info",sx:{mb:3},children:"CP ranges help you identify perfect IV catches. Weather boosted ranges indicate the Pokémon is level 25 instead of level 20."}),Object.entries(u).map(([a,t])=>!t||t.length===0?null:e.jsxs(i,{sx:{mb:4},children:[e.jsxs(c,{direction:"row",spacing:2,alignItems:"center",mb:2,children:[e.jsx(s,{variant:"h5",fontWeight:600,children:a}),e.jsx(x,{label:`${t.length} Boss${t.length!==1?"es":""}`,size:"small",sx:{backgroundColor:n=>Y[a]||n.palette.primary.main,color:"#fff",fontWeight:600}})]}),f==="grid"?e.jsx(b,{container:!0,spacing:2,children:t.map(n=>e.jsx(b,{size:{xs:12,sm:6,md:4,lg:3},children:W(n)},n.name))}):e.jsx(c,{spacing:1,children:t.map(n=>P(n))})]},a))]})}const ae=G.memo($);export{ae as default};
