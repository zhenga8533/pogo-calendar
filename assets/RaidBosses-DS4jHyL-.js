import{G as R,N as S,j as e,a7 as i,aG as v,D as l,V as p,aI as g,ae as P,aJ as _,af as B,a6 as E}from"./mui-core-bcLv4slq.js";import{a as O,r as f}from"./react-vendor-COZ0iPm4.js";import{u as T,D,a as L,P as w,b as W,S as M}from"./dataService-DWYXEeOQ.js";import{c as z,P as G}from"./index-Drasy4K0.js";import"./mui-icons-D3Ye376C.js";import"./date-utils-BirqDsiu.js";import"./mui-pickers-zOORXj_E.js";import"./utils-DiIHWmkM.js";function I({filters:r,onSetFilterOptions:d}){const{data:s,loading:u,error:h,refetch:y}=T(W,"Failed to load raid boss data. Please try again later."),j=R(),C=S(j.breakpoints.down("sm"));f.useEffect(()=>{if(s){const a=Object.keys(s),t=new Set;Object.values(s).forEach(c=>{c.forEach(o=>{o.types.forEach(x=>t.add(x))})});const n=Array.from(t).sort();d({raidTiers:a,types:n})}},[s,d]);const m=f.useMemo(()=>{if(!s)return null;const a={};return Object.entries(s).forEach(([t,n])=>{if(r.selectedRaidTiers.length>0&&!r.selectedRaidTiers.includes(t))return;const c=n.filter(o=>!(r.pokemonSearch&&!o.name.toLowerCase().includes(r.pokemonSearch.toLowerCase())||r.shinyOnly&&!o.shiny_available||r.selectedTypes.length>0&&!o.types.some(k=>r.selectedTypes.includes(k))||o.cp_range.max<r.minCP||o.cp_range.min>r.maxCP));c.length>0&&(a[t]=c)}),a},[s,r]);if(u)return e.jsx(D,{itemCount:8,gridSize:{xs:12,sm:6,md:4,lg:3}});if(h||!s||!m)return e.jsx(L,{title:"Failed to Load Raid Boss Data",message:h||void 0,onRetry:y});const b=a=>e.jsxs(P,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:t=>t.shadows[8]}},children:[e.jsx(_,{component:"img",image:a.asset_url,alt:a.name,sx:{height:140,objectFit:"contain",backgroundColor:"background.default",p:2}}),e.jsxs(B,{sx:{flexGrow:1},children:[e.jsx(l,{variant:"h6",fontWeight:600,textAlign:"center",gutterBottom:!0,sx:{fontSize:C?"1rem":"1.25rem"},children:a.name}),e.jsxs(E,{spacing:1,sx:{mb:2},children:[e.jsxs(i,{sx:{display:"flex",gap:.5,justifyContent:"center",flexWrap:"wrap"},children:[a.types.map(t=>e.jsx(p,{label:t,size:"small",sx:{backgroundColor:G[t]||"#999",color:"#fff",fontWeight:600,fontSize:"0.75rem"}},t)),a.shiny_available&&e.jsx(M,{})]}),e.jsxs(i,{sx:{backgroundColor:"background.default",borderRadius:1,p:1.5},children:[e.jsx(l,{variant:"caption",color:"text.secondary",display:"block",children:"Normal CP Range"}),e.jsxs(l,{variant:"body2",fontWeight:600,children:[a.cp_range.min.toLocaleString()," -"," ",a.cp_range.max.toLocaleString()]})]}),e.jsxs(i,{sx:{backgroundColor:"background.default",borderRadius:1,p:1.5},children:[e.jsx(l,{variant:"caption",color:"text.secondary",display:"block",children:"Weather Boosted CP"}),e.jsxs(l,{variant:"body2",fontWeight:600,children:[a.boosted_cp_range.min.toLocaleString()," -"," ",a.boosted_cp_range.max.toLocaleString()]})]})]})]})]});return e.jsxs(i,{sx:{py:4},children:[e.jsx(w,{title:"Raid Bosses",description:"Current raid bosses available in Pokémon GO"}),e.jsx(v,{severity:"info",sx:{mb:3},children:"CP ranges help you identify perfect IV catches. Weather boosted ranges indicate the Pokémon is level 25 instead of level 20."}),Object.entries(m).map(([a,t])=>!t||t.length===0?null:e.jsxs(i,{sx:{mb:4},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(l,{variant:"h5",fontWeight:600,children:a}),e.jsx(p,{label:`${t.length} Boss${t.length!==1?"es":""}`,size:"small",sx:{backgroundColor:n=>z[a]||n.palette.primary.main,color:"#fff",fontWeight:600}})]}),e.jsx(g,{container:!0,spacing:2,children:t.map(n=>e.jsx(g,{size:{xs:12,sm:6,md:4,lg:3},children:b(n)},n.name))})]},a))]})}const K=O.memo(I);export{K as default};
