import{j as e,a7 as s,D as n,aG as g,a6 as f,V as i,ai as u,aj as j,ak as b,aI as d,ae as y}from"./mui-core-bcLv4slq.js";import{E as k}from"./mui-icons-Bo2hajml.js";import{a as C}from"./react-vendor-COZ0iPm4.js";import{u as W,D as R,a as v,c as S}from"./dataService-Cqi2YAKt.js";import{S as I}from"./index-CSqie3sd.js";import"./date-utils-BirqDsiu.js";import"./mui-pickers-zOORXj_E.js";import"./utils-DiIHWmkM.js";function z(){const{data:l,loading:h,error:c,refetch:x}=W(S,"Failed to load research task data. Please try again later.");if(h)return e.jsx(R,{itemCount:6,gridSize:{xs:12}});if(c||!l)return e.jsx(v,{title:"Failed to Load Research Task Data",message:c||void 0,onRetry:x});const m=(a,r)=>e.jsxs(y,{sx:{display:"flex",alignItems:"center",p:2,backgroundColor:"background.default",minHeight:80},children:[e.jsx(s,{sx:{width:64,height:64,minWidth:64,display:"flex",alignItems:"center",justifyContent:"center",mr:2,backgroundColor:"background.paper",borderRadius:1,overflow:"hidden"},children:e.jsx(s,{component:"img",src:a.asset_url,alt:a.name,sx:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})}),e.jsxs(s,{sx:{flexGrow:1,minWidth:0},children:[e.jsxs(n,{variant:"subtitle2",fontWeight:600,noWrap:!0,children:[a.name,a.quantity&&a.quantity>1&&` x${a.quantity}`]}),e.jsxs(s,{sx:{display:"flex",gap:.5,mt:.5,flexWrap:"wrap"},children:[e.jsx(i,{label:a.type==="encounter"?"Pokémon":"Item",size:"small",sx:{height:20,fontSize:"0.7rem",backgroundColor:a.type==="encounter"?"#4CAF50":"#2196F3",color:"#fff",fontWeight:600}}),a.shiny_available&&e.jsx(i,{label:"✨ Shiny",size:"small",sx:{height:20,fontSize:"0.7rem",backgroundColor:I,color:"#000",fontWeight:600}})]})]})]},r),p=(a,r)=>e.jsxs(u,{sx:{mb:1,"&:before":{display:"none"},borderRadius:"12px !important",overflow:"hidden"},children:[e.jsx(j,{expandIcon:e.jsx(k,{}),sx:{backgroundColor:"background.paper","&:hover":{backgroundColor:"action.hover"}},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap",width:"100%",pr:2},children:[e.jsx(n,{variant:"body1",fontWeight:600,sx:{flexGrow:1},children:a.task}),e.jsx(i,{label:`${a.rewards.length} Reward${a.rewards.length!==1?"s":""}`,size:"small",sx:{backgroundColor:"primary.main",color:"#fff",fontWeight:600}})]})}),e.jsx(b,{sx:{pt:2},children:e.jsx(d,{container:!0,spacing:2,children:a.rewards.map((o,t)=>e.jsx(d,{size:{xs:12,sm:6,md:4},children:m(o,t)},t))})})]},r);return e.jsxs(s,{sx:{py:4},children:[e.jsxs(s,{sx:{mb:4},children:[e.jsx(n,{variant:"h3",fontWeight:700,gutterBottom:!0,children:"Research Tasks"}),e.jsx(n,{variant:"body1",color:"text.secondary",children:"Current field research tasks and their rewards"})]}),e.jsx(g,{severity:"info",sx:{mb:3},children:"Field research tasks are obtained by spinning PokéStops. Complete tasks to earn rewards including Pokémon encounters, items, and Stardust."}),e.jsx(f,{spacing:3,children:Object.entries(l).map(([a,r])=>!r||r.length===0?null:e.jsxs(s,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(n,{variant:"h5",fontWeight:600,children:a}),e.jsx(i,{label:`${r.length} Task${r.length!==1?"s":""}`,size:"small",sx:{backgroundColor:"primary.main",color:"#fff",fontWeight:600}})]}),r.map((o,t)=>p(o,t))]},a))})]})}const G=C.memo(z);export{G as default};
