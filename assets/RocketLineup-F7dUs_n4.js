import{j as r,a7 as s,aG as O,ae as S,D as u,af as v,a6 as E,Z as D,V as x,aI as f}from"./mui-core-BM6OZ3Ae.js";import{a as P,r as g}from"./react-vendor-COZ0iPm4.js";import{u as G,D as T,a as _,P as w,d as W,S as I}from"./dataService-D6R8r1Ib.js";import{c as y,e as z}from"./index-BysE4DFC.js";import"./mui-icons-DRtSjZgt.js";import"./date-utils-BirqDsiu.js";import"./mui-pickers-BzuYHJMN.js";import"./utils-DiIHWmkM.js";function A({filters:n,onSetFilterOptions:m}){const{data:o,loading:j,error:h,refetch:k}=G(W,"Failed to load Team GO Rocket lineup data. Please try again later.");g.useEffect(()=>{if(o){const e=Object.keys(o);m({leaders:e})}},[o,m]);const d=g.useMemo(()=>{if(!o)return null;const e={};return Object.entries(o).forEach(([a,t])=>{if(n.selectedLeaders.length>0&&!n.selectedLeaders.includes(a))return;const c=t.filter(i=>{if(n.selectedSlots.length>0&&!n.selectedSlots.includes(i.slot)||n.encounterOnly&&!i.is_encounter)return!1;const l=i.pokemons.some(p=>!(n.pokemonSearch&&!p.name.toLowerCase().includes(n.pokemonSearch.toLowerCase())||n.shinyOnly&&!p.shiny_available));return n.pokemonSearch||n.shinyOnly?l:!0}).map(i=>n.pokemonSearch||n.shinyOnly?{...i,pokemons:i.pokemons.filter(l=>!(n.pokemonSearch&&!l.name.toLowerCase().includes(n.pokemonSearch.toLowerCase())||n.shinyOnly&&!l.shiny_available))}:i);c.length>0&&(e[a]=c)}),e},[o,n]);if(j)return r.jsx(T,{itemCount:4,gridSize:{xs:12}});if(h||!o||!d)return r.jsx(_,{title:"Failed to Load Team GO Rocket Lineup",message:h||void 0,onRetry:k});const b=e=>r.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1.5,p:1.5,backgroundColor:"background.default",borderRadius:1},children:[r.jsx(s,{sx:{width:56,height:56,minWidth:56,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"background.paper",borderRadius:1,overflow:"hidden"},children:r.jsx(s,{component:"img",src:e.asset_url,alt:e.name,sx:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})}),r.jsxs(s,{sx:{flexGrow:1,minWidth:0},children:[r.jsx(u,{variant:"body2",fontWeight:600,noWrap:!0,children:e.name}),e.shiny_available&&r.jsx(s,{sx:{mt:.5},children:r.jsx(I,{})})]})]}),C=e=>r.jsxs(s,{sx:{mb:2},children:[r.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:1.5},children:[r.jsx(x,{label:`Slot ${e.slot}`,size:"small",sx:{backgroundColor:"primary.main",color:"#fff",fontWeight:600}}),e.is_encounter&&r.jsx(x,{label:"Possible Encounter",size:"small",sx:{backgroundColor:"#4CAF50",color:"#fff",fontWeight:600}})]}),r.jsx(f,{container:!0,spacing:1,children:e.pokemons.map((a,t)=>r.jsx(f,{size:{xs:12,sm:6,md:4},children:b(a)},t))})]},e.slot),R=(e,a)=>r.jsxs(S,{sx:{mb:3,overflow:"hidden",borderRadius:3},children:[r.jsxs(s,{sx:{background:t=>`linear-gradient(135deg, ${y[e]||t.palette.primary.main} 0%, ${y[e]||t.palette.primary.main}dd 100%)`,p:3,color:"#fff"},children:[r.jsx(u,{variant:"h4",fontWeight:700,gutterBottom:!0,children:e}),r.jsx(u,{variant:"body2",sx:{opacity:.9},children:z[e]||"Team GO Rocket"})]}),r.jsx(v,{sx:{p:3},children:r.jsx(E,{spacing:2,divider:r.jsx(D,{}),children:a.sort((t,c)=>t.slot-c.slot).map(t=>C(t))})})]},e),L=Object.keys(d).sort((e,a)=>e==="Giovanni"?-1:a==="Giovanni"?1:e.localeCompare(a));return r.jsxs(s,{sx:{py:4},children:[r.jsx(w,{title:"Team GO Rocket Lineups",description:"Current Pokémon used by Team GO Rocket leaders"}),r.jsx(O,{severity:"info",sx:{mb:3},children:"Team GO Rocket leaders use one Pokémon from each slot. Defeating the leader gives you a chance to catch the encounter Pokémon (usually from slot 3)."}),L.map(e=>{const a=d[e];return!a||a.length===0?null:R(e,a)})]})}const Z=P.memo(A);export{Z as default};
